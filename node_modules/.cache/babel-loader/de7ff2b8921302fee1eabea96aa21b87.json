{"ast":null,"code":"import { db } from \"../../firebase/firebaseConfig\";\nexport const viajes = (uid, displayName) => ({\n  type: types.login,\n  payload: {\n    uid,\n    displayName\n  }\n});\nexport const getViaje = async ({\n  dirSalida,\n  dirDestino,\n  fechaEnvio,\n  pesoPaquete\n}) => {\n  const viajesRef = db.collection(\"viajes\");\n  const responseViaje = await viajesRef.where(\"salida\", \"==\", dirSalida).where(\"destino\", \"==\", dirDestino).where(\"fechaViaje\", \"==\", fechaEnvio).where(\"equipajePeso\", \">=\", pesoPaquete).get().then(viajes => {\n    if (!viajes.empty) {\n      let viajesData = [];\n      viajes.docs.forEach(viaje => {\n        viajesData.push({ ...viaje.data(),\n          id: viaje.id\n        });\n      });\n      return dispatch => {\n        dispatch(login(user.uid, user.displayName));\n      };\n    }\n\n    return [];\n  });\n};\n\nconst updateViaje = (id, peso) => {\n  return db.collection(\"viajes\").doc(id).update({\n    equipajePeso: peso\n  });\n};\n\nconst setEnvioViaje = body => {\n  return db.collection(\"envios\").doc().set(body);\n};","map":{"version":3,"sources":["/Users/adrian/Desktop/mandadero/app/src/actions/mandadero/envio.js"],"names":["db","viajes","uid","displayName","type","types","login","payload","getViaje","dirSalida","dirDestino","fechaEnvio","pesoPaquete","viajesRef","collection","responseViaje","where","get","then","empty","viajesData","docs","forEach","viaje","push","data","id","dispatch","user","updateViaje","peso","doc","update","equipajePeso","setEnvioViaje","body","set"],"mappings":"AAAA,SAASA,EAAT,QAAmB,+BAAnB;AAEA,OAAO,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,WAAN,MAAuB;AAC3CC,EAAAA,IAAI,EAAEC,KAAK,CAACC,KAD+B;AAE3CC,EAAAA,OAAO,EAAE;AACPL,IAAAA,GADO;AAEPC,IAAAA;AAFO;AAFkC,CAAvB,CAAf;AAOP,OAAO,MAAMK,QAAQ,GAAG,OAAO;AAC7BC,EAAAA,SAD6B;AAE7BC,EAAAA,UAF6B;AAG7BC,EAAAA,UAH6B;AAI7BC,EAAAA;AAJ6B,CAAP,KAKlB;AACJ,QAAMC,SAAS,GAAGb,EAAE,CAACc,UAAH,CAAc,QAAd,CAAlB;AACA,QAAMC,aAAa,GAAG,MAAMF,SAAS,CAClCG,KADyB,CACnB,QADmB,EACT,IADS,EACHP,SADG,EAEzBO,KAFyB,CAEnB,SAFmB,EAER,IAFQ,EAEFN,UAFE,EAGzBM,KAHyB,CAGnB,YAHmB,EAGL,IAHK,EAGCL,UAHD,EAIzBK,KAJyB,CAInB,cAJmB,EAIH,IAJG,EAIGJ,WAJH,EAKzBK,GALyB,GAMzBC,IANyB,CAMnBjB,MAAD,IAAY;AAChB,QAAI,CAACA,MAAM,CAACkB,KAAZ,EAAmB;AACjB,UAAIC,UAAU,GAAG,EAAjB;AACAnB,MAAAA,MAAM,CAACoB,IAAP,CAAYC,OAAZ,CAAqBC,KAAD,IAAW;AAC7BH,QAAAA,UAAU,CAACI,IAAX,CAAgB,EAAE,GAAGD,KAAK,CAACE,IAAN,EAAL;AAAmBC,UAAAA,EAAE,EAAEH,KAAK,CAACG;AAA7B,SAAhB;AACD,OAFD;AAGA,aAAQC,QAAD,IAAc;AACnBA,QAAAA,QAAQ,CAACrB,KAAK,CAACsB,IAAI,CAAC1B,GAAN,EAAW0B,IAAI,CAACzB,WAAhB,CAAN,CAAR;AACD,OAFD;AAGD;;AACD,WAAO,EAAP;AACD,GAjByB,CAA5B;AAkBD,CAzBM;;AA2BP,MAAM0B,WAAW,GAAG,CAACH,EAAD,EAAKI,IAAL,KAAc;AAChC,SAAO9B,EAAE,CAACc,UAAH,CAAc,QAAd,EAAwBiB,GAAxB,CAA4BL,EAA5B,EAAgCM,MAAhC,CAAuC;AAAEC,IAAAA,YAAY,EAAEH;AAAhB,GAAvC,CAAP;AACD,CAFD;;AAIA,MAAMI,aAAa,GAAIC,IAAD,IAAU;AAC9B,SAAOnC,EAAE,CAACc,UAAH,CAAc,QAAd,EAAwBiB,GAAxB,GAA8BK,GAA9B,CAAkCD,IAAlC,CAAP;AACD,CAFD","sourcesContent":["import { db } from \"../../firebase/firebaseConfig\";\n\nexport const viajes = (uid, displayName) => ({\n  type: types.login,\n  payload: {\n    uid,\n    displayName,\n  },\n});\nexport const getViaje = async ({\n  dirSalida,\n  dirDestino,\n  fechaEnvio,\n  pesoPaquete,\n}) => {\n  const viajesRef = db.collection(\"viajes\");\n  const responseViaje = await viajesRef\n    .where(\"salida\", \"==\", dirSalida)\n    .where(\"destino\", \"==\", dirDestino)\n    .where(\"fechaViaje\", \"==\", fechaEnvio)\n    .where(\"equipajePeso\", \">=\", pesoPaquete)\n    .get()\n    .then((viajes) => {\n      if (!viajes.empty) {\n        let viajesData = [];\n        viajes.docs.forEach((viaje) => {\n          viajesData.push({ ...viaje.data(), id: viaje.id });\n        });\n        return (dispatch) => {\n          dispatch(login(user.uid, user.displayName));\n        };\n      }\n      return [];\n    });\n};\n\nconst updateViaje = (id, peso) => {\n  return db.collection(\"viajes\").doc(id).update({ equipajePeso: peso });\n};\n\nconst setEnvioViaje = (body) => {\n  return db.collection(\"envios\").doc().set(body);\n};\n"]},"metadata":{},"sourceType":"module"}