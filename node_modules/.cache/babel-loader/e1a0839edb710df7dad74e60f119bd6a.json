{"ast":null,"code":"import { db } from \"../../firebase/firebaseConfig\";\nimport { types } from \"../../types/types\";\nexport const viajesBusqueda = vaijes => ({\n  type: types.busquesa,\n  payload: viajes\n});\nexport const getViaje = async ({\n  dirSalida,\n  dirDestino,\n  fechaEnvio,\n  pesoPaquete\n}) => {\n  const viajesRef = db.collection(\"viajes\");\n  const responseViaje = await viajesRef.where(\"salida\", \"==\", dirSalida).where(\"destino\", \"==\", dirDestino).where(\"fechaViaje\", \"==\", fechaEnvio).where(\"equipajePeso\", \">=\", pesoPaquete).get().then(viajes => {\n    if (!viajes.empty) {\n      let viajesData = [];\n      viajes.docs.forEach(viaje => {\n        viajesData.push({ ...viaje.data(),\n          id: viaje.id\n        });\n      });\n      return dispatch => {\n        dispatch(viajesBusqueda(viajesData));\n      };\n    }\n\n    return [];\n  });\n};\n\nconst updateViaje = (id, peso) => {\n  return db.collection(\"viajes\").doc(id).update({\n    equipajePeso: peso\n  });\n};\n\nconst setEnvioViaje = body => {\n  return db.collection(\"envios\").doc().set(body);\n};","map":{"version":3,"sources":["/Users/adrian/Desktop/mandadero/app/src/actions/mandadero/envio.js"],"names":["db","types","viajesBusqueda","vaijes","type","busquesa","payload","viajes","getViaje","dirSalida","dirDestino","fechaEnvio","pesoPaquete","viajesRef","collection","responseViaje","where","get","then","empty","viajesData","docs","forEach","viaje","push","data","id","dispatch","updateViaje","peso","doc","update","equipajePeso","setEnvioViaje","body","set"],"mappings":"AAAA,SAASA,EAAT,QAAmB,+BAAnB;AACA,SAASC,KAAT,QAAsB,mBAAtB;AAEA,OAAO,MAAMC,cAAc,GAAIC,MAAD,KAAa;AACzCC,EAAAA,IAAI,EAAEH,KAAK,CAACI,QAD6B;AAEzCC,EAAAA,OAAO,EAAEC;AAFgC,CAAb,CAAvB;AAIP,OAAO,MAAMC,QAAQ,GAAG,OAAO;AAC7BC,EAAAA,SAD6B;AAE7BC,EAAAA,UAF6B;AAG7BC,EAAAA,UAH6B;AAI7BC,EAAAA;AAJ6B,CAAP,KAKlB;AACJ,QAAMC,SAAS,GAAGb,EAAE,CAACc,UAAH,CAAc,QAAd,CAAlB;AACA,QAAMC,aAAa,GAAG,MAAMF,SAAS,CAClCG,KADyB,CACnB,QADmB,EACT,IADS,EACHP,SADG,EAEzBO,KAFyB,CAEnB,SAFmB,EAER,IAFQ,EAEFN,UAFE,EAGzBM,KAHyB,CAGnB,YAHmB,EAGL,IAHK,EAGCL,UAHD,EAIzBK,KAJyB,CAInB,cAJmB,EAIH,IAJG,EAIGJ,WAJH,EAKzBK,GALyB,GAMzBC,IANyB,CAMnBX,MAAD,IAAY;AAChB,QAAI,CAACA,MAAM,CAACY,KAAZ,EAAmB;AACjB,UAAIC,UAAU,GAAG,EAAjB;AACAb,MAAAA,MAAM,CAACc,IAAP,CAAYC,OAAZ,CAAqBC,KAAD,IAAW;AAC7BH,QAAAA,UAAU,CAACI,IAAX,CAAgB,EAAE,GAAGD,KAAK,CAACE,IAAN,EAAL;AAAmBC,UAAAA,EAAE,EAAEH,KAAK,CAACG;AAA7B,SAAhB;AACD,OAFD;AAGA,aAAQC,QAAD,IAAc;AACnBA,QAAAA,QAAQ,CAACzB,cAAc,CAACkB,UAAD,CAAf,CAAR;AACD,OAFD;AAGD;;AACD,WAAO,EAAP;AACD,GAjByB,CAA5B;AAkBD,CAzBM;;AA2BP,MAAMQ,WAAW,GAAG,CAACF,EAAD,EAAKG,IAAL,KAAc;AAChC,SAAO7B,EAAE,CAACc,UAAH,CAAc,QAAd,EAAwBgB,GAAxB,CAA4BJ,EAA5B,EAAgCK,MAAhC,CAAuC;AAAEC,IAAAA,YAAY,EAAEH;AAAhB,GAAvC,CAAP;AACD,CAFD;;AAIA,MAAMI,aAAa,GAAIC,IAAD,IAAU;AAC9B,SAAOlC,EAAE,CAACc,UAAH,CAAc,QAAd,EAAwBgB,GAAxB,GAA8BK,GAA9B,CAAkCD,IAAlC,CAAP;AACD,CAFD","sourcesContent":["import { db } from \"../../firebase/firebaseConfig\";\nimport { types } from \"../../types/types\";\n\nexport const viajesBusqueda = (vaijes) => ({\n  type: types.busquesa,\n  payload: viajes,\n});\nexport const getViaje = async ({\n  dirSalida,\n  dirDestino,\n  fechaEnvio,\n  pesoPaquete,\n}) => {\n  const viajesRef = db.collection(\"viajes\");\n  const responseViaje = await viajesRef\n    .where(\"salida\", \"==\", dirSalida)\n    .where(\"destino\", \"==\", dirDestino)\n    .where(\"fechaViaje\", \"==\", fechaEnvio)\n    .where(\"equipajePeso\", \">=\", pesoPaquete)\n    .get()\n    .then((viajes) => {\n      if (!viajes.empty) {\n        let viajesData = [];\n        viajes.docs.forEach((viaje) => {\n          viajesData.push({ ...viaje.data(), id: viaje.id });\n        });\n        return (dispatch) => {\n          dispatch(viajesBusqueda(viajesData));\n        };\n      }\n      return [];\n    });\n};\n\nconst updateViaje = (id, peso) => {\n  return db.collection(\"viajes\").doc(id).update({ equipajePeso: peso });\n};\n\nconst setEnvioViaje = (body) => {\n  return db.collection(\"envios\").doc().set(body);\n};\n"]},"metadata":{},"sourceType":"module"}