{"ast":null,"code":"import { db } from \"../../firebase/firebaseConfig\";\nexport const getViaje = async ({\n  dirSalida,\n  dirDestino,\n  fechaEnvio,\n  pesoPaquete\n}) => {\n  console.log(dirSalida);\n  console.log(dirDestino);\n  console.log(fechaEnvio);\n  console.log(pesoPaquete);\n  const viajesRef = db.collection(\"viajes\");\n  const responseViaje = await viajesRef.where(\"salida\", \"==\", dirSalida).where(\"destino\", \"==\", dirDestino).where(\"fechaViaje\", \"==\", fechaEnvio).where(\"equipajePeso\", \">=\", pesoPaquete).get().then(viajes => {\n    console.log(viajes);\n\n    if (!viajes.empty) {\n      return true; // viajes.docs.forEach(async (viaje) => {\n      //   const equipajePeso = viaje.data()[\"equipajePeso\"] - pesoPaquete;\n      //   const idViaje = viaje.id;\n      //   await updateViaje(idViaje, equipajePeso);\n      //   await setEnvioViaje({ pesoPaquete, idViaje });\n      // });\n    }\n\n    return false;\n  });\n  console.log(responseViaje);\n  return responseViaje;\n};\n\nconst updateViaje = (id, peso) => {\n  return db.collection(\"viajes\").doc(id).update({\n    equipajePeso: peso\n  });\n};\n\nconst setEnvioViaje = body => {\n  return db.collection(\"envios\").doc().set(body);\n};","map":{"version":3,"sources":["/Users/adrian/Desktop/mandadero/app/src/actions/mandadero/envio.js"],"names":["db","getViaje","dirSalida","dirDestino","fechaEnvio","pesoPaquete","console","log","viajesRef","collection","responseViaje","where","get","then","viajes","empty","updateViaje","id","peso","doc","update","equipajePeso","setEnvioViaje","body","set"],"mappings":"AAAA,SAASA,EAAT,QAAmB,+BAAnB;AAEA,OAAO,MAAMC,QAAQ,GAAG,OAAO;AAC7BC,EAAAA,SAD6B;AAE7BC,EAAAA,UAF6B;AAG7BC,EAAAA,UAH6B;AAI7BC,EAAAA;AAJ6B,CAAP,KAKlB;AACJC,EAAAA,OAAO,CAACC,GAAR,CAAYL,SAAZ;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAYJ,UAAZ;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYF,WAAZ;AAEA,QAAMG,SAAS,GAAGR,EAAE,CAACS,UAAH,CAAc,QAAd,CAAlB;AACA,QAAMC,aAAa,GAAG,MAAMF,SAAS,CAClCG,KADyB,CACnB,QADmB,EACT,IADS,EACHT,SADG,EAEzBS,KAFyB,CAEnB,SAFmB,EAER,IAFQ,EAEFR,UAFE,EAGzBQ,KAHyB,CAGnB,YAHmB,EAGL,IAHK,EAGCP,UAHD,EAIzBO,KAJyB,CAInB,cAJmB,EAIH,IAJG,EAIGN,WAJH,EAKzBO,GALyB,GAMzBC,IANyB,CAMnBC,MAAD,IAAY;AAChBR,IAAAA,OAAO,CAACC,GAAR,CAAYO,MAAZ;;AAEA,QAAI,CAACA,MAAM,CAACC,KAAZ,EAAmB;AACjB,aAAO,IAAP,CADiB,CAEjB;AACA;AACA;AACA;AACA;AACA;AACD;;AACD,WAAO,KAAP;AACD,GAnByB,CAA5B;AAqBAT,EAAAA,OAAO,CAACC,GAAR,CAAYG,aAAZ;AAEA,SAAOA,aAAP;AACD,CApCM;;AAsCP,MAAMM,WAAW,GAAG,CAACC,EAAD,EAAKC,IAAL,KAAc;AAChC,SAAOlB,EAAE,CAACS,UAAH,CAAc,QAAd,EAAwBU,GAAxB,CAA4BF,EAA5B,EAAgCG,MAAhC,CAAuC;AAAEC,IAAAA,YAAY,EAAEH;AAAhB,GAAvC,CAAP;AACD,CAFD;;AAIA,MAAMI,aAAa,GAAIC,IAAD,IAAU;AAC9B,SAAOvB,EAAE,CAACS,UAAH,CAAc,QAAd,EAAwBU,GAAxB,GAA8BK,GAA9B,CAAkCD,IAAlC,CAAP;AACD,CAFD","sourcesContent":["import { db } from \"../../firebase/firebaseConfig\";\n\nexport const getViaje = async ({\n  dirSalida,\n  dirDestino,\n  fechaEnvio,\n  pesoPaquete,\n}) => {\n  console.log(dirSalida);\n  console.log(dirDestino);\n  console.log(fechaEnvio);\n  console.log(pesoPaquete);\n\n  const viajesRef = db.collection(\"viajes\");\n  const responseViaje = await viajesRef\n    .where(\"salida\", \"==\", dirSalida)\n    .where(\"destino\", \"==\", dirDestino)\n    .where(\"fechaViaje\", \"==\", fechaEnvio)\n    .where(\"equipajePeso\", \">=\", pesoPaquete)\n    .get()\n    .then((viajes) => {\n      console.log(viajes);\n\n      if (!viajes.empty) {\n        return true;\n        // viajes.docs.forEach(async (viaje) => {\n        //   const equipajePeso = viaje.data()[\"equipajePeso\"] - pesoPaquete;\n        //   const idViaje = viaje.id;\n        //   await updateViaje(idViaje, equipajePeso);\n        //   await setEnvioViaje({ pesoPaquete, idViaje });\n        // });\n      }\n      return false;\n    });\n\n  console.log(responseViaje);\n\n  return responseViaje;\n};\n\nconst updateViaje = (id, peso) => {\n  return db.collection(\"viajes\").doc(id).update({ equipajePeso: peso });\n};\n\nconst setEnvioViaje = (body) => {\n  return db.collection(\"envios\").doc().set(body);\n};\n"]},"metadata":{},"sourceType":"module"}