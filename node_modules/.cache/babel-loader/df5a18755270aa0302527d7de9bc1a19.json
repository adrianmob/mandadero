{"ast":null,"code":"import { db, storage } from \"../../firebase/firebaseConfig\";\nimport { types } from \"../../types/types\";\nexport const saveFile = async file => {\n  const uploadTask = storage.ref(`envios_evidencia/${Date.now() + \"-\" + file.name}`);\n  await uploadTask.put(file);\n  const urlImg = await uploadTask.getDownloadURL();\n  return urlImg;\n};\nexport const saveCheckout = ({\n  notas,\n  direccion,\n  total,\n  urlImg,\n  viaje,\n  auth,\n  id_envio\n}) => {\n  const peso = viaje.equipajePeso - viaje.peso_envio;\n  const body = {\n    notas,\n    direccion,\n    total,\n    urlImg,\n    id_cliente: auth.uid,\n    nombre_cliente: auth.name,\n    id_viajero: viaje.viajeroID,\n    origen: viaje.origen,\n    destino: viaje.destino,\n    hora_destino: viaje.hora_destino,\n    hora_origen: viaje.hora_origen\n  };\n  updateViaje(viaje.id, peso);\n  setEnvioViaje(id_envio, body);\n};\n\nconst updateViaje = (id, peso) => {\n  return db.collection(\"viajes\").doc(id).update({\n    equipajePeso: peso\n  });\n};\n\nconst setEnvioViaje = (id, body) => {\n  return db.collection(\"envios\").doc(id).set(body);\n};","map":{"version":3,"sources":["/Users/adrian/Desktop/mandadero/app/src/actions/mandadero/checkout.js"],"names":["db","storage","types","saveFile","file","uploadTask","ref","Date","now","name","put","urlImg","getDownloadURL","saveCheckout","notas","direccion","total","viaje","auth","id_envio","peso","equipajePeso","peso_envio","body","id_cliente","uid","nombre_cliente","id_viajero","viajeroID","origen","destino","hora_destino","hora_origen","updateViaje","id","setEnvioViaje","collection","doc","update","set"],"mappings":"AAAA,SAASA,EAAT,EAAaC,OAAb,QAA4B,+BAA5B;AACA,SAASC,KAAT,QAAsB,mBAAtB;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAOC,IAAP,IAAgB;AACtC,QAAMC,UAAU,GAAGJ,OAAO,CAACK,GAAR,CAChB,oBAAmBC,IAAI,CAACC,GAAL,KAAa,GAAb,GAAmBJ,IAAI,CAACK,IAAK,EADhC,CAAnB;AAGA,QAAMJ,UAAU,CAACK,GAAX,CAAeN,IAAf,CAAN;AACA,QAAMO,MAAM,GAAG,MAAMN,UAAU,CAACO,cAAX,EAArB;AACA,SAAOD,MAAP;AACD,CAPM;AASP,OAAO,MAAME,YAAY,GAAG,CAAC;AAC3BC,EAAAA,KAD2B;AAE3BC,EAAAA,SAF2B;AAG3BC,EAAAA,KAH2B;AAI3BL,EAAAA,MAJ2B;AAK3BM,EAAAA,KAL2B;AAM3BC,EAAAA,IAN2B;AAO3BC,EAAAA;AAP2B,CAAD,KAQtB;AACJ,QAAMC,IAAI,GAAGH,KAAK,CAACI,YAAN,GAAqBJ,KAAK,CAACK,UAAxC;AAEA,QAAMC,IAAI,GAAG;AACXT,IAAAA,KADW;AAEXC,IAAAA,SAFW;AAGXC,IAAAA,KAHW;AAIXL,IAAAA,MAJW;AAKXa,IAAAA,UAAU,EAAEN,IAAI,CAACO,GALN;AAMXC,IAAAA,cAAc,EAAER,IAAI,CAACT,IANV;AAOXkB,IAAAA,UAAU,EAAEV,KAAK,CAACW,SAPP;AAQXC,IAAAA,MAAM,EAAEZ,KAAK,CAACY,MARH;AASXC,IAAAA,OAAO,EAAEb,KAAK,CAACa,OATJ;AAUXC,IAAAA,YAAY,EAAEd,KAAK,CAACc,YAVT;AAWXC,IAAAA,WAAW,EAAEf,KAAK,CAACe;AAXR,GAAb;AAcAC,EAAAA,WAAW,CAAChB,KAAK,CAACiB,EAAP,EAAWd,IAAX,CAAX;AACAe,EAAAA,aAAa,CAAChB,QAAD,EAAWI,IAAX,CAAb;AACD,CA3BM;;AA6BP,MAAMU,WAAW,GAAG,CAACC,EAAD,EAAKd,IAAL,KAAc;AAChC,SAAOpB,EAAE,CAACoC,UAAH,CAAc,QAAd,EAAwBC,GAAxB,CAA4BH,EAA5B,EAAgCI,MAAhC,CAAuC;AAAEjB,IAAAA,YAAY,EAAED;AAAhB,GAAvC,CAAP;AACD,CAFD;;AAIA,MAAMe,aAAa,GAAG,CAACD,EAAD,EAAKX,IAAL,KAAc;AAClC,SAAOvB,EAAE,CAACoC,UAAH,CAAc,QAAd,EAAwBC,GAAxB,CAA4BH,EAA5B,EAAgCK,GAAhC,CAAoChB,IAApC,CAAP;AACD,CAFD","sourcesContent":["import { db, storage } from \"../../firebase/firebaseConfig\";\nimport { types } from \"../../types/types\";\n\nexport const saveFile = async (file) => {\n  const uploadTask = storage.ref(\n    `envios_evidencia/${Date.now() + \"-\" + file.name}`\n  );\n  await uploadTask.put(file);\n  const urlImg = await uploadTask.getDownloadURL();\n  return urlImg;\n};\n\nexport const saveCheckout = ({\n  notas,\n  direccion,\n  total,\n  urlImg,\n  viaje,\n  auth,\n  id_envio,\n}) => {\n  const peso = viaje.equipajePeso - viaje.peso_envio;\n\n  const body = {\n    notas,\n    direccion,\n    total,\n    urlImg,\n    id_cliente: auth.uid,\n    nombre_cliente: auth.name,\n    id_viajero: viaje.viajeroID,\n    origen: viaje.origen,\n    destino: viaje.destino,\n    hora_destino: viaje.hora_destino,\n    hora_origen: viaje.hora_origen,\n  };\n\n  updateViaje(viaje.id, peso);\n  setEnvioViaje(id_envio, body);\n};\n\nconst updateViaje = (id, peso) => {\n  return db.collection(\"viajes\").doc(id).update({ equipajePeso: peso });\n};\n\nconst setEnvioViaje = (id, body) => {\n  return db.collection(\"envios\").doc(id).set(body);\n};\n"]},"metadata":{},"sourceType":"module"}