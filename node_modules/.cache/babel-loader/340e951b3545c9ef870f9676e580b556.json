{"ast":null,"code":"import { db, storage } from \"../../firebase/firebaseConfig\";\nimport { types } from \"../../types/types\";\nexport const saveFile = async file => {\n  const uploadTask = storage.ref(`envios_evidencia/${Date.now() + \"-\" + file.name}`);\n  await uploadTask.put(file);\n  const urlImg = await uploadTask.getDownloadURL();\n  return urlImg;\n};\nexport const saveCheckout = async ({\n  notas,\n  direccion,\n  total,\n  urlImg,\n  viaje,\n  auth\n}) => {\n  const id_envio = `${viaje.origen.substr(0, 4)}${viaje.destino.substr(0, 4)}${Date.now()}`;\n  const peso = viaje.equipajePeso - viaje.peso_envio;\n  updateViaje(viaje.id, peso);\n  console.log(id_envio);\n  console.log(viaje);\n  console.log(auth);\n};\n\nconst updateViaje = (id, peso) => {\n  return db.collection(\"viajes\").doc(id).update({\n    equipajePeso: peso\n  });\n};\n\nconst setEnvioViaje = body => {\n  return db.collection(\"envios\").doc().set(body);\n};","map":{"version":3,"sources":["/Users/adrian/Desktop/mandadero/app/src/actions/mandadero/checkout.js"],"names":["db","storage","types","saveFile","file","uploadTask","ref","Date","now","name","put","urlImg","getDownloadURL","saveCheckout","notas","direccion","total","viaje","auth","id_envio","origen","substr","destino","peso","equipajePeso","peso_envio","updateViaje","id","console","log","collection","doc","update","setEnvioViaje","body","set"],"mappings":"AAAA,SAASA,EAAT,EAAaC,OAAb,QAA4B,+BAA5B;AACA,SAASC,KAAT,QAAsB,mBAAtB;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAOC,IAAP,IAAgB;AACtC,QAAMC,UAAU,GAAGJ,OAAO,CAACK,GAAR,CAChB,oBAAmBC,IAAI,CAACC,GAAL,KAAa,GAAb,GAAmBJ,IAAI,CAACK,IAAK,EADhC,CAAnB;AAGA,QAAMJ,UAAU,CAACK,GAAX,CAAeN,IAAf,CAAN;AACA,QAAMO,MAAM,GAAG,MAAMN,UAAU,CAACO,cAAX,EAArB;AACA,SAAOD,MAAP;AACD,CAPM;AASP,OAAO,MAAME,YAAY,GAAG,OAAO;AACjCC,EAAAA,KADiC;AAEjCC,EAAAA,SAFiC;AAGjCC,EAAAA,KAHiC;AAIjCL,EAAAA,MAJiC;AAKjCM,EAAAA,KALiC;AAMjCC,EAAAA;AANiC,CAAP,KAOtB;AACJ,QAAMC,QAAQ,GAAI,GAAEF,KAAK,CAACG,MAAN,CAAaC,MAAb,CAAoB,CAApB,EAAuB,CAAvB,CAA0B,GAAEJ,KAAK,CAACK,OAAN,CAAcD,MAAd,CAC9C,CAD8C,EAE9C,CAF8C,CAG9C,GAAEd,IAAI,CAACC,GAAL,EAAW,EAHf;AAKA,QAAMe,IAAI,GAAGN,KAAK,CAACO,YAAN,GAAqBP,KAAK,CAACQ,UAAxC;AACAC,EAAAA,WAAW,CAACT,KAAK,CAACU,EAAP,EAAWJ,IAAX,CAAX;AAEAK,EAAAA,OAAO,CAACC,GAAR,CAAYV,QAAZ;AACAS,EAAAA,OAAO,CAACC,GAAR,CAAYZ,KAAZ;AACAW,EAAAA,OAAO,CAACC,GAAR,CAAYX,IAAZ;AACD,CAnBM;;AAqBP,MAAMQ,WAAW,GAAG,CAACC,EAAD,EAAKJ,IAAL,KAAc;AAChC,SAAOvB,EAAE,CAAC8B,UAAH,CAAc,QAAd,EAAwBC,GAAxB,CAA4BJ,EAA5B,EAAgCK,MAAhC,CAAuC;AAAER,IAAAA,YAAY,EAAED;AAAhB,GAAvC,CAAP;AACD,CAFD;;AAIA,MAAMU,aAAa,GAAIC,IAAD,IAAU;AAC9B,SAAOlC,EAAE,CAAC8B,UAAH,CAAc,QAAd,EAAwBC,GAAxB,GAA8BI,GAA9B,CAAkCD,IAAlC,CAAP;AACD,CAFD","sourcesContent":["import { db, storage } from \"../../firebase/firebaseConfig\";\nimport { types } from \"../../types/types\";\n\nexport const saveFile = async (file) => {\n  const uploadTask = storage.ref(\n    `envios_evidencia/${Date.now() + \"-\" + file.name}`\n  );\n  await uploadTask.put(file);\n  const urlImg = await uploadTask.getDownloadURL();\n  return urlImg;\n};\n\nexport const saveCheckout = async ({\n  notas,\n  direccion,\n  total,\n  urlImg,\n  viaje,\n  auth,\n}) => {\n  const id_envio = `${viaje.origen.substr(0, 4)}${viaje.destino.substr(\n    0,\n    4\n  )}${Date.now()}`;\n\n  const peso = viaje.equipajePeso - viaje.peso_envio;\n  updateViaje(viaje.id, peso);\n\n  console.log(id_envio);\n  console.log(viaje);\n  console.log(auth);\n};\n\nconst updateViaje = (id, peso) => {\n  return db.collection(\"viajes\").doc(id).update({ equipajePeso: peso });\n};\n\nconst setEnvioViaje = (body) => {\n  return db.collection(\"envios\").doc().set(body);\n};\n"]},"metadata":{},"sourceType":"module"}