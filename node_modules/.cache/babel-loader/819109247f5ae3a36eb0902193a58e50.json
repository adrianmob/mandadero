{"ast":null,"code":"import { types } from \"../types/types\";\nimport { firebase, db } from \"../firebase/firebaseConfig\";\nexport const login = (uid, displayName) => ({\n  type: types.login,\n  payload: {\n    uid,\n    displayName,\n    email\n  }\n});\nexport const logout = () => ({\n  type: types.logout\n});\nexport const startLoginEmailPassword = (email, password) => {\n  return dispatch => {\n    firebase.auth().signInWithEmailAndPassword(email, password).then(({\n      user\n    }) => {\n      dispatch(login(user.uid, user.displayName, user.email));\n    });\n  };\n};\nexport const startRegisterWithEmailPassword = (email, password, name, phone) => {\n  return dispatch => {\n    firebase.auth().createUserWithEmailAndPassword(email, password).then(async ({\n      user\n    }) => {\n      await user.updateProfile({\n        displayName: name\n      });\n      db.collection(\"users\").doc(user.uid).set({\n        email,\n        name,\n        phone\n      }).then(() => {\n        dispatch(login(user.uid, name, user.email));\n      });\n    });\n  };\n};\nexport const salir = () => {\n  return dispatch => {\n    firebase.auth().signOut();\n    dispatch(logout());\n  };\n};","map":{"version":3,"sources":["/Users/adrian/Desktop/mandadero/app/src/actions/auth.js"],"names":["types","firebase","db","login","uid","displayName","type","payload","email","logout","startLoginEmailPassword","password","dispatch","auth","signInWithEmailAndPassword","then","user","startRegisterWithEmailPassword","name","phone","createUserWithEmailAndPassword","updateProfile","collection","doc","set","salir","signOut"],"mappings":"AAAA,SAASA,KAAT,QAAsB,gBAAtB;AACA,SAASC,QAAT,EAAmBC,EAAnB,QAA6B,4BAA7B;AACA,OAAO,MAAMC,KAAK,GAAG,CAACC,GAAD,EAAMC,WAAN,MAAuB;AAC1CC,EAAAA,IAAI,EAAEN,KAAK,CAACG,KAD8B;AAE1CI,EAAAA,OAAO,EAAE;AACPH,IAAAA,GADO;AAEPC,IAAAA,WAFO;AAGPG,IAAAA;AAHO;AAFiC,CAAvB,CAAd;AASP,OAAO,MAAMC,MAAM,GAAG,OAAO;AAC3BH,EAAAA,IAAI,EAAEN,KAAK,CAACS;AADe,CAAP,CAAf;AAIP,OAAO,MAAMC,uBAAuB,GAAG,CAACF,KAAD,EAAQG,QAAR,KAAqB;AAC1D,SAAQC,QAAD,IAAc;AACnBX,IAAAA,QAAQ,CACLY,IADH,GAEGC,0BAFH,CAE8BN,KAF9B,EAEqCG,QAFrC,EAGGI,IAHH,CAGQ,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAc;AAClBJ,MAAAA,QAAQ,CAACT,KAAK,CAACa,IAAI,CAACZ,GAAN,EAAWY,IAAI,CAACX,WAAhB,EAA6BW,IAAI,CAACR,KAAlC,CAAN,CAAR;AACD,KALH;AAMD,GAPD;AAQD,CATM;AAWP,OAAO,MAAMS,8BAA8B,GAAG,CAC5CT,KAD4C,EAE5CG,QAF4C,EAG5CO,IAH4C,EAI5CC,KAJ4C,KAKzC;AACH,SAAQP,QAAD,IAAc;AACnBX,IAAAA,QAAQ,CACLY,IADH,GAEGO,8BAFH,CAEkCZ,KAFlC,EAEyCG,QAFzC,EAGGI,IAHH,CAGQ,OAAO;AAAEC,MAAAA;AAAF,KAAP,KAAoB;AACxB,YAAMA,IAAI,CAACK,aAAL,CAAmB;AAAEhB,QAAAA,WAAW,EAAEa;AAAf,OAAnB,CAAN;AACAhB,MAAAA,EAAE,CAACoB,UAAH,CAAc,OAAd,EACGC,GADH,CACOP,IAAI,CAACZ,GADZ,EAEGoB,GAFH,CAEO;AAAEhB,QAAAA,KAAF;AAASU,QAAAA,IAAT;AAAeC,QAAAA;AAAf,OAFP,EAGGJ,IAHH,CAGQ,MAAM;AACVH,QAAAA,QAAQ,CAACT,KAAK,CAACa,IAAI,CAACZ,GAAN,EAAWc,IAAX,EAAiBF,IAAI,CAACR,KAAtB,CAAN,CAAR;AACD,OALH;AAMD,KAXH;AAYD,GAbD;AAcD,CApBM;AAsBP,OAAO,MAAMiB,KAAK,GAAG,MAAM;AACzB,SAAQb,QAAD,IAAc;AACnBX,IAAAA,QAAQ,CAACY,IAAT,GAAgBa,OAAhB;AACAd,IAAAA,QAAQ,CAACH,MAAM,EAAP,CAAR;AACD,GAHD;AAID,CALM","sourcesContent":["import { types } from \"../types/types\";\nimport { firebase, db } from \"../firebase/firebaseConfig\";\nexport const login = (uid, displayName) => ({\n  type: types.login,\n  payload: {\n    uid,\n    displayName,\n    email,\n  },\n});\n\nexport const logout = () => ({\n  type: types.logout,\n});\n\nexport const startLoginEmailPassword = (email, password) => {\n  return (dispatch) => {\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .then(({ user }) => {\n        dispatch(login(user.uid, user.displayName, user.email));\n      });\n  };\n};\n\nexport const startRegisterWithEmailPassword = (\n  email,\n  password,\n  name,\n  phone\n) => {\n  return (dispatch) => {\n    firebase\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      .then(async ({ user }) => {\n        await user.updateProfile({ displayName: name });\n        db.collection(\"users\")\n          .doc(user.uid)\n          .set({ email, name, phone })\n          .then(() => {\n            dispatch(login(user.uid, name, user.email));\n          });\n      });\n  };\n};\n\nexport const salir = () => {\n  return (dispatch) => {\n    firebase.auth().signOut();\n    dispatch(logout());\n  };\n};\n"]},"metadata":{},"sourceType":"module"}